title: Vue 组件化（2）
categories: 前端
tags:
  - vue
---
## Vue组件化（2）

> 这里谈谈业务组件与工具组件和UI组件3方面

<!-- more -->
### 业务组件
> 业务组件是指在业务中需要抽象或者抽离的可复用的包涵业务逻辑的组件

在复杂的页面开发中经常会遇到一些页面包涵很多复杂交互，如果在一个vue组件里面去做整个页面开发会导致代码量过大日后难以维护，所以需要将**一些相对功能独立但是逻辑复杂的模块**抽离成一个个的业务组件。

一方面业务组件可以作为可复用的模块**在各个页面中重复利用**，而且在相同功能下需要迭代的时候也能够改一处而其他地方同步。另一方面能够理清页面脉络，**避免同一个.vue文件中代码量太大**难以阅读。

**如何做好业务组件：**

* 页面开发时分割业务模块至不同的.vue文件中
* 逻辑相对独立模块需考虑扩展性-比如上传，展示，导出等交互一致视觉一致的模块
* 慎复制代码多抽离模块
* 业务组件内部逻辑独立，与页面其他功能尽量解耦

### 工具组件
> 工具组件是指项目中的一些公用方法，逻辑等

工具组件相当于项目中常用的util方法，很多方法会在各个vue文件中重复利用到，比如获取url参数，常用格式转换等等。这些方法之前使用import在各个vue组件中调用，后续发现每次还是需要引用，其实可以通过插件的形式对常用方法添加到全局vue实例中，避免在每个vue组件中引入调用。

核心思路是vue的[插件方法](https://cn.vuejs.org/v2/guide/plugins.html)

在工具组件中设定初始化方法，将util方法注入到vue的**实例方法**中。

		Util.install = function (Vue, options) {
		  添加实例方法
		  Vue.prototype.$myMethod = function (options) {
		    // 逻辑...
		  }
		}
		
然后在入口页面通过全局方法使用插件

		Vue.use(Util)

这样在改实例下的所有vue组件都能使用该实例方法。

### UI组件
> 颗粒化的包涵独立功能的组件

UI组件是组件化中比较重要的一个环节也是需要考量最多的组件，这里只是谈一谈UI组件的CSS相关。

UI组件包含了一个默认的样式，这个样式在绝大部分情况下可以不用修改，但是还是要考虑到特殊情况的**样式可覆盖性**。所以在UI组件中推荐使用[**BEM**](http://getbem.com/introduction/)方式进行css命名。

使用BEM可以减少样式嵌套，增强可读性，同时也使得组件样式更佳易于被覆盖。也可以优化选择器性能。同时还能减少命名冲突增强服用性。


